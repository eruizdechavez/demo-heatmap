<!DOCTYPE html>
<html lang="en">
<head>
	<title></title>
	<link href="css/bootstrap.css" rel="stylesheet">
</head>
<body>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/mustache.js"></script>
<script type="text/javascript">
$(function() {

	// Some data to play with
	var data = {
		labels: ['Twitter.Followers', 'Twitter.Klout', 'Twitter.Links.Shared', 'Twitter.Mentions', 'Twitter.Retweets', 'Twitter.Sentiment', 'Twitter.Total.Engagements', 'Twitter.Unique.Engagers', 'Facebook.Comments', 'Facebook.Fans', 'Facebook.Impressions', 'Facebook.Likes', 'Facebook.Sentiment', 'Facebook.Shares', 'Facebook.Total.Engagements', 'Facebook.Unique.Engagers', 'Facebook.Wall.Posts', 'WebAnalytics.Average.Time', 'WebAnalytics.Bounce.Rate', 'WebAnalytics.Unique.Visitors', 'WebAnalytics.Visits.Per.Visitor', 'Instagram.Followers', 'Instagram.Comments', 'Instagram.Likes', 'idx'],
		values: [
			[1, 0.383880188, 0.577012029, 0.524535451, 0.492310807, -0.613620892, 0.577062069, 0.543678182, 0.029446168, 0.923555921, -0.344984353, 0.610414296, -0.143658258, 0.25681748, 0.598765273, 0.602853678, 0.374722857, -0.007467971, -0.18678327, -0.300952606, 0.069850993, 0.890013389, 0.04206791, 0.132662651, 0.943732089],
			[0.383880188, 1, 0.018181229, 0.051474109, 0.143581213, -0.292060125, 0.123516908, 0.121381578, 0.105529123, 0.270432976, -0.115332408, 0.073388479, 0.004833102, -0.001967531, 0.083130225, 0.0782922, 0.123843432, 0.000667887, -0.039297146, -0.181634683, -0.009634688, 0.287846957, -0.000734889, 0.048031701, 0.327942142],
			[0.577012029, 0.018181229, 1, 0.543372117, 0.536722981, -0.578559491, 0.616553957, 0.583032071, 0.297018454, 0.536062083, -0.148379772, 0.420052764, 0.044174503, 0.316521183, 0.442272047, 0.42699294, 0.452012667, -0.038708844, -0.129260201, -0.033628742, 0.263034646, 0.519173313, 0.184951202, 0.23670562, 0.565545415],
			[0.524535451, 0.051474109, 0.543372117, 1, 0.504320769, -0.389114012, 0.795258125, 0.754989493, 0.292949659, 0.59492773, -0.076020804, 0.474459413, -0.207419322, 0.226539906, 0.494909162, 0.473949132, 0.377552425, -0.099467427, -0.006170947, 0.0191847, 0.14706424, 0.573166365, 0.151378012, 0.133129473, 0.572320079],
			[0.492310807, 0.143581213, 0.536722981, 0.504320769, 1, -0.52944418, 0.924590129, 0.940990073, 0.191234442, 0.453936425, -0.152098057, 0.354166115, -0.003693831, 0.145463084, 0.366433107, 0.35314914, 0.308419892, 0.014802826, -0.102121047, -0.10303755, 0.173513297, 0.427911572, 0.055269484, 0.096132009, 0.46746032],
			[-0.613620892, -0.292060125, -0.578559491, -0.389114012, -0.52944418, 1, -0.543388451, -0.51998269, -0.172756228, -0.488924267, 0.167442762, -0.333997614, -0.274020423, -0.252048585, -0.344737045, -0.339365018, -0.381517421, -0.027768097, 0.200556017, 0.13918972, -0.192187206, -0.490064107, -0.050853789, -0.081448712, -0.573945686],
			[0.577062069, 0.123516908, 0.616553957, 0.795258125, 0.924590129, -0.543388451, 1, 0.993748742, 0.26350743, 0.581175026, -0.140325977, 0.457978915, -0.094102009, 0.202073124, 0.475613469, 0.457039777, 0.383107585, -0.033489721, -0.074421208, -0.063878358, 0.186704235, 0.553302485, 0.10558892, 0.126227484, 0.580696121],
			[0.543678182, 0.121381578, 0.583032071, 0.754989493, 0.940990073, -0.51998269, 0.993748742, 1, 0.244165572, 0.554228267, -0.132315489, 0.441353894, -0.106188398, 0.180326098, 0.457280237, 0.440951903, 0.355697137, -0.03013769, -0.069491277, -0.080727133, 0.17000933, 0.52478323, 0.084380813, 0.103688941, 0.549260094],
			[0.029446168, 0.105529123, 0.297018454, 0.292949659, 0.191234442, -0.172756228, 0.26350743, 0.244165572, 1, 0.084279777, 0.269954399, 0.169713633, 0.065992145, 0.293679207, 0.274830333, 0.200782431, 0.3812698, -0.091534729, 0.183805881, 0.346351592, 0.168072898, 0.121645089, 0.244302882, 0.227252639, 0.128941017],
			[0.923555921, 0.270432976, 0.536062083, 0.59492773, 0.453936425, -0.488924267, 0.581175026, 0.554228267, 0.084279777, 1, -0.215407698, 0.69793541, -0.40099376, 0.274170873, 0.690145467, 0.696465106, 0.365390716, -0.123101182, -0.049821287, -0.279044135, -0.045879109, 0.936187462, 0.048945922, 0.114025432, 0.944366257],
			[-0.344984353, -0.115332408, -0.148379772, -0.076020804, -0.152098057, 0.167442762, -0.140325977, -0.132315489, 0.269954399, -0.215407698, 1, -0.156014712, 0.009949251, 0.096173234, -0.122722642, -0.140027336, 0.100544503, -0.360749165, 0.481715119, 0.281894503, -0.221999632, -0.016623305, -0.008686974, -0.094506071, -0.144909393],
			[0.610414296, 0.073388479, 0.420052764, 0.474459413, 0.354166115, -0.333997614, 0.457978915, 0.441353894, 0.169713633, 0.69793541, -0.156014712, 1, -0.351164865, 0.257418035, 0.994187223, 0.997416123, 0.247024525, -0.037805458, -0.047911012, -0.153580361, 0.038216531, 0.641474259, 0.050847955, 0.098979694, 0.636662685],
			[-0.143658258, 0.004833102, 0.044174503, -0.207419322, -0.003693831, -0.274020423, -0.094102009, -0.106188398, 0.065992145, -0.40099376, 0.009949251, -0.351164865, 1, -0.041540912, -0.335402969, -0.34936183, 0.0353569, 0.140079652, -0.206341233, 0.121874793, 0.174756937, -0.329180005, -0.02097121, 0.023731874, -0.228004063],
			[0.25681748, -0.001967531, 0.316521183, 0.226539906, 0.145463084, -0.252048585, 0.202073124, 0.180326098, 0.293679207, 0.274170873, 0.096173234, 0.257418035, -0.041540912, 1, 0.283233307, 0.263548003, 0.786474582, -0.082015551, 0.112991182, 0.128288007, 0.185357236, 0.305477614, 0.067165406, 0.049758732, 0.316901061],
			[0.598765273, 0.083130225, 0.442272047, 0.494909162, 0.366433107, -0.344737045, 0.475613469, 0.457280237, 0.274830333, 0.690145467, -0.122722642, 0.994187223, -0.335402969, 0.283233307, 1, 0.995060537, 0.282662185, -0.046884905, -0.026663414, -0.112001191, 0.055647754, 0.639141525, 0.076299671, 0.121396473, 0.635244212],
			[0.602853678, 0.0782922, 0.42699294, 0.473949132, 0.35314914, -0.339365018, 0.457039777, 0.440951903, 0.200782431, 0.696465106, -0.140027336, 0.997416123, -0.34936183, 0.263548003, 0.995060537, 1, 0.264960176, -0.051834576, -0.037963436, -0.152620429, 0.031906573, 0.641325158, 0.051357098, 0.102971534, 0.637400832],
			[0.374722857, 0.123843432, 0.452012667, 0.377552425, 0.308419892, -0.381517421, 0.383107585, 0.355697137, 0.3812698, 0.365390716, 0.100544503, 0.247024525, 0.0353569, 0.786474582, 0.282662185, 0.264960176, 1, -0.106915106, 0.094641515, 0.044191438, 0.15899779, 0.412683887, 0.117888044, 0.12779253, 0.448646745],
			[-0.007467971, 0.000667887, -0.038708844, -0.099467427, 0.014802826, -0.027768097, -0.033489721, -0.03013769, -0.091534729, -0.123101182, -0.360749165, -0.037805458, 0.140079652, -0.082015551, -0.046884905, -0.051834576, -0.106915106, 1, -0.861556708, -0.327468316, 0.684798553, -0.245595438, 0.003633692, -0.004891776, -0.192804276],
			[-0.18678327, -0.039297146, -0.129260201, -0.006170947, -0.102121047, 0.200556017, -0.074421208, -0.069491277, 0.183805881, -0.049821287, 0.481715119, -0.047911012, -0.206341233, 0.112991182, -0.026663414, -0.037963436, 0.094641515, -0.861556708, 1, 0.548361611, -0.611680478, 0.098640586, 0.034465521, 0.023157681, 0.030458996],
			[-0.300952606, -0.181634683, -0.033628742, 0.0191847, -0.10303755, 0.13918972, -0.063878358, -0.080727133, 0.346351592, -0.279044135, 0.281894503, -0.153580361, 0.121874793, 0.128288007, -0.112001191, -0.152620429, 0.044191438, -0.327468316, 0.548361611, 1, -0.036552611, -0.182783422, 0.15672935, 0.10991458, -0.224599325],
			[0.069850993, -0.009634688, 0.263034646, 0.14706424, 0.173513297, -0.192187206, 0.186704235, 0.17000933, 0.168072898, -0.045879109, -0.221999632, 0.038216531, 0.174756937, 0.185357236, 0.055647754, 0.031906573, 0.15899779, 0.684798553, -0.611680478, -0.036552611, 1, -0.128285268, 0.161391977, 0.15438549, -0.083217095],
			[0.890013389, 0.287846957, 0.519173313, 0.573166365, 0.427911572, -0.490064107, 0.553302485, 0.52478323, 0.121645089, 0.936187462, -0.016623305, 0.641474259, -0.329180005, 0.305477614, 0.639141525, 0.641325158, 0.412683887, -0.245595438, 0.098640586, -0.182783422, -0.128285268, 1, 0.036941774, 0.096599336, 0.957256572],
			[0.04206791, -0.000734889, 0.184951202, 0.151378012, 0.055269484, -0.050853789, 0.10558892, 0.084380813, 0.244302882, 0.048945922, -0.008686974, 0.050847955, -0.02097121, 0.067165406, 0.076299671, 0.051357098, 0.117888044, 0.003633692, 0.034465521, 0.15672935, 0.161391977, 0.036941774, 1, 0.869936716, 0.048826839],
			[0.132662651, 0.048031701, 0.23670562, 0.133129473, 0.096132009, -0.081448712, 0.126227484, 0.103688941, 0.227252639, 0.114025432, -0.094506071, 0.098979694, 0.023731874, 0.049758732, 0.121396473, 0.102971534, 0.12779253, -0.004891776, 0.023157681, 0.10991458, 0.15438549, 0.096599336, 0.869936716, 1, 0.114431301],
			[0.943732089, 0.327942142, 0.565545415, 0.572320079, 0.46746032, -0.573945686, 0.580696121, 0.549260094, 0.128941017, 0.944366257, -0.144909393, 0.636662685, -0.228004063, 0.316901061, 0.635244212, 0.637400832, 0.448646745, -0.192804276, 0.030458996, -0.224599325, -0.083217095, 0.957256572, 0.048826839, 0.114431301, 1]
		]
	};

	// Create an array of rows to join it easily
	var rows = [];

	var colHeaderTemplate = '<td title="{{title}}"><span class="icon-arrow-down">{{content}}</span></td>';
	var rowHeaderTemplate = '<td title="{{title}}"><span class="icon-arrow-right">{{content}}</span></td>';
	var cellTemplate = '<td class="cell-data" title="{{title}}">{{content}}</td>';

	// Headers
	var headers = '';
	$.each(data.labels, function(key, label) {
		headers += Mustache.render(colHeaderTemplate, {
			title: label,
			content: ''
		});
	});
	rows.push(headers);

	$.each(data.values, function(rkey, rvalue) {
		var row = '';
		$.each(rvalue, function(ckey, cell) {
			row += Mustache.render(cellTemplate, {
				title: cell,
				content: ''
			});
		});
		rows.push(row);
	});

	// Append our current rows to the table
	$("#dataTable").html('<tr>' + rows.join('</tr><tr>') + '</tr>');

	// Prepend the label to each row (except row 0 which should be empty)
	$("#dataTable tr").each(function(key, row) {
		if (key == 0) {
			$(this).prepend('<td></td>');
		} else {
			$(this).prepend(Mustache.render(rowHeaderTemplate, {
				title: data.labels[key - 1],
				content: ''
			}));
		}
	});

	// Color each cell based on the value
	$("#dataTable tr .cell-data").each(function(key, cell) {
		$(cell).css('background-color', '#bada55').css('opacity', Math.abs(parseFloat($(cell).attr('title'))));
	});

	$('[title]').tooltip();

});		
</script>
<div class="container">
	<div class="row">&nbsp;</div>
	<div class="row">
		<h1>Relationship Table</h1> 
	</div>
	<div class="row">&nbsp;</div>
	<div class="row">
		<table class="table table-bordered" id="dataTable"></table>
	</div>
</div>
</body>
</html>